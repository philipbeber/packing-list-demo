(this["webpackJsonppacking-list-demo"]=this["webpackJsonppacking-list-demo"]||[]).push([[0],{114:function(e,t){},115:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(36),r=a(77),c=a(78),i=function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(n.a)(this,e),this.id=t,this.name=a,this.lists=r};function o(e,t){switch(t.type){case"CREATE_CAMP_LIST":return void e.lists.push(new c.a(t.listId,t.name));case"CREATE_CAMP_ITEM":var a=e.lists.find((function(e){return e.id===t.listId}));return void(a&&a.items.push(new r.a(t.itemId,t.name)));case"CHANGE_CAMP_ITEM_STATE":var n=t;return l(e,n.listId,n.itemIds,(function(e){e.state!==n.state&&(e.state=n.state)}));case"CHANGE_CAMP_ITEM_DELETED":var i=t;return l(e,i.listId,i.itemIds,(function(e){e.deleted!==i.deleted&&(e.deleted=i.deleted)}));default:throw Error("Unknown operation "+JSON.stringify(t))}}function l(e,t,a,n){var r=null===e||void 0===e?void 0:e.lists.find((function(e){return e.id===t}));r&&r.items.forEach((function(e){a.indexOf(e.id)>=0&&n(e)}))}},116:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return d}));var n=a(18),r=(a(36),a(126));function c(){return r.generate()}function i(e){return{id:c(),timestamp:Date.now(),campId:e}}function o(e,t){return Object(n.a)(Object(n.a)({},i(e)),{},{listId:t})}function l(e){return Object(n.a)(Object(n.a)({},i(c())),{},{type:"CREATE_CAMP",name:e})}function u(e,t){return Object(n.a)(Object(n.a)({},o(e,c())),{},{type:"CREATE_CAMP_LIST",name:t})}function m(e,t,a){return Object(n.a)(Object(n.a)({},o(e,t)),{},{type:"CREATE_CAMP_ITEM",itemId:c(),name:a})}function s(e,t,a,r){return Object(n.a)(Object(n.a)({},o(e,t)),{},{type:"CHANGE_CAMP_ITEM_STATE",itemIds:a,state:r})}function d(e,t,a,r){return Object(n.a)(Object(n.a)({},o(e,t)),{},{type:"CHANGE_CAMP_ITEM_DELETED",itemIds:a,deleted:r})}},12:function(e,t,a){"use strict";var n=a(114);a.o(n,"Camp")&&a.d(t,"Camp",(function(){return n.Camp})),a.o(n,"ItemState")&&a.d(t,"ItemState",(function(){return n.ItemState})),a.o(n,"applyOperationToCamp")&&a.d(t,"applyOperationToCamp",(function(){return n.applyOperationToCamp})),a.o(n,"changeItemDeleted")&&a.d(t,"changeItemDeleted",(function(){return n.changeItemDeleted})),a.o(n,"changeItemState")&&a.d(t,"changeItemState",(function(){return n.changeItemState})),a.o(n,"createCamp")&&a.d(t,"createCamp",(function(){return n.createCamp})),a.o(n,"createItem")&&a.d(t,"createItem",(function(){return n.createItem})),a.o(n,"createList")&&a.d(t,"createList",(function(){return n.createList}));var r=a(115);a.d(t,"Camp",(function(){return r.a})),a.d(t,"applyOperationToCamp",(function(){return r.b}));a(78);var c=a(77);a.d(t,"ItemState",(function(){return c.b}));var i=a(116);a.d(t,"changeItemDeleted",(function(){return i.a})),a.d(t,"changeItemState",(function(){return i.b})),a.d(t,"createCamp",(function(){return i.c})),a.d(t,"createItem",(function(){return i.d})),a.d(t,"createList",(function(){return i.e}))},143:function(e,t,a){e.exports=a(186)},148:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(148),a(17)),l=a(21),u=a(221),m=a(27),s=a.n(m),d=a(53),p=a.n(d),f=a(20),E=a.n(f),h=a(218),g=a(210),v=a(219),C=a(220),b=a(132),I=a(222),O=a(214),k=a(217),j=a(191),y=a(223),S=a(231),T=a(232),A=a(213),P=a(228),w=a(12),B=function(){return Object(o.b)()},L=(o.c,a(55)),N={camps:[],pendingOperations:[]},_=Object(L.b)({name:"camp",initialState:N,reducers:{openCamp:function(e,t){e.selectedCampId=t.payload},closeCamp:function(e){e.selectedCampId=void 0},openCampList:function(e,t){e.selectedListId=t.payload.listId},closeCampList:function(e){e.selectedListId=void 0},sendUserOperation:function(e,t){var a=t.payload;if(e.pendingOperations.push(a),"CREATE_CAMP"===a.type){var n=new w.Camp(a.campId,a.name);e.selectedCampId=a.campId,e.camps.push(n)}else{var r=e.camps.find((function(e){return e.id===a.campId}));r&&Object(w.applyOperationToCamp)(r,a)}},clearCampData:function(){return N}}}),x=_.actions,M=_.reducer,D=x.openCamp,R=x.closeCamp,U=x.closeCampList,G=x.sendUserOperation,F=x.clearCampData,J=M,H=Object(g.a)((function(e){return{textfield:{margin:e.spacing(2),textAlign:"center"},button:{margin:e.spacing(2)}}})),W=function(e){var t=H(),a=e.onClose,n=e.open,c=r.a.useState(""),i=Object(l.a)(c,2),o=i[0],u=i[1],m=B(),s=function(){m(G(Object(w.createCamp)(o))),u(""),a()};return r.a.createElement(S.a,{onClose:function(){return a()},"aria-labelledby":"simple-dialog-title",open:n,maxWidth:"xs"},r.a.createElement(T.a,{p:4},r.a.createElement(A.a,{id:"simple-dialog-title"},"Create a camp"),r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(P.a,{label:"Camp name",value:o,onChange:function(e){return u(e.target.value)},autoFocus:!0,onKeyDown:function(e){o&&"Enter"===e.key&&s()},className:t.textfield})),r.a.createElement(O.a,{item:!0,xs:"auto"},r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:s,disabled:!o,className:t.button},"Create")),r.a.createElement(O.a,{item:!0,xs:"auto"},r.a.createElement(h.a,{variant:"outlined",color:"primary",onClick:function(){u(""),a()},className:t.button},"Cancel")))))},K=a(25),z=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),$=Object(K.a)((function(e){return e.camp.camps}),(function(e){return e.map((function(e){return{id:e.id,name:e.name}}))})),q=function(){var e=z(),t=Object(o.c)((function(e){return $(e)})),a=r.a.useState(!1),c=Object(l.a)(a,2),i=c[0],m=c[1],d=r.a.useState(null),f=Object(l.a)(d,2),g=f[0],S=f[1],T=B();return r.a.createElement(p.a,{maxWidth:"sm"},r.a.createElement(W,{open:i,onClose:function(){return m(!1)}}),r.a.createElement(v.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement(E.a,{variant:"h6",className:e.title},"Home"),r.a.createElement(h.a,{color:"inherit",onClick:function(e){S(e.currentTarget)}},r.a.createElement(u.a,null)),r.a.createElement(b.a,{anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){return S(null)}},r.a.createElement(I.a,{onClick:function(){m(!0),S(null)}},"Create a camp"),r.a.createElement(I.a,{disabled:!0},"Join a camp"),r.a.createElement(I.a,{disabled:!0},"Create a private list")))),t.length?r.a.createElement(n.Fragment,null,r.a.createElement(s.a,{my:2},r.a.createElement(E.a,{variant:"h4",component:"h1"},"Camps"),r.a.createElement(k.a,{component:"div"},t.map((function(e){return r.a.createElement(j.a,{key:e.id,button:!0,onClick:function(){return T(D(e.id))}},r.a.createElement(y.a,{primary:e.name}))})))),r.a.createElement(s.a,{my:2},r.a.createElement(E.a,{variant:"h4",component:"h1"},"Private lists"),r.a.createElement(E.a,{variant:"subtitle1"},"Coming soon")),r.a.createElement(s.a,{my:2},r.a.createElement(E.a,{variant:"h4",component:"h1"},"Test area"),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return T(F())}},"Clear camp data"))):r.a.createElement(s.a,{my:2},r.a.createElement(E.a,{variant:"h4",component:"h1",gutterBottom:!0},"Let's get started!"),r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return m(!0)}},"Create a camp")),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return m(!0)},disabled:!0},"Join a camp")),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return m(!0)},disabled:!0},"Create a private list")))))},Q=a(225),V=a(224),X=a(131),Y=a(18),Z=a(226),ee=a(230),te=a(229),ae=Object(K.a)((function(e){return e.camp.camps}),(function(e){return e.camp.selectedCampId}),(function(e,t){return e.find((function(e){return e.id===t}))})),ne=Object(K.a)((function(e){return ae(e)}),(function(e){return e.camp.selectedListId}),(function(e,t){return null===e||void 0===e?void 0:e.lists.find((function(e){return e.id===t}))})),re=Object(g.a)((function(e){return{menuButton:{marginRight:-15},appBarTitle:{flexGrow:1},menuActionButton:{marginRight:-16},title:{marginTop:10},addItemButton:{height:32,marginTop:16,marginLeft:16},itemStateSelector:{height:32},actionButton:{marginRight:6}}})),ce=Object(K.a)((function(e){var t;return null===(t=ne(e))||void 0===t?void 0:t.items}),(function(e,t){return t}),(function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return!e.deleted})).map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{checked:t.indexOf(e.id)>=0})}))})),ie=function(){var e=re(),t=r.a.useState(""),a=Object(l.a)(t,2),c=a[0],i=a[1],u=r.a.useState(null),m=Object(l.a)(u,2),d=m[0],f=m[1],g=r.a.useState(null),O=Object(l.a)(g,2),S=O[0],T=O[1],A=r.a.useState([]),L=Object(l.a)(A,2),N=L[0],_=L[1],x=Object(o.c)((function(e){return ae(e)})),M=Object(o.c)((function(e){return ne(e)})),D=Object(o.c)((function(e){return ce(e,N)})),R=B();if(!x||!M)return r.a.createElement(n.Fragment,null);var F=function(){c&&(R(G(Object(w.createItem)(x.id,M.id,c))),i(""))},J=function(){f(null)},H=function(e){return function(){N.length&&R(G(Object(w.changeItemState)(x.id,M.id,N,e))),_([]),T(null)}};return r.a.createElement(p.a,{maxWidth:"sm"},r.a.createElement(v.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement(V.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return R(U())}},r.a.createElement(Q.a,null)),r.a.createElement(E.a,{variant:"h6",className:e.appBarTitle},x.name),r.a.createElement(h.a,{color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},className:e.menuActionButton},r.a.createElement(Z.a,null)),r.a.createElement(b.a,{anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:J},r.a.createElement(I.a,{onClick:function(){_((null===D||void 0===D?void 0:D.map((function(e){return e.id})))||[]),f(null)},disabled:N.length===(null===D||void 0===D?void 0:D.length)},"Select all"),r.a.createElement(I.a,{onClick:function(){_([]),f(null)},disabled:0===N.length},"Unselect all"),r.a.createElement(I.a,{onClick:J,disabled:!0},"Show deleted items"),r.a.createElement(I.a,{onClick:J,disabled:!0},"Assign list to...")))),r.a.createElement(E.a,{variant:"h4",gutterBottom:!0,className:e.title},M.name),r.a.createElement(s.a,{my:1},0===N.length?r.a.createElement(s.a,{height:48},r.a.createElement(P.a,{label:"Add a new item",value:c,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){c&&"Enter"===e.key&&F()}}),r.a.createElement(h.a,{variant:"outlined",color:"primary",disabled:!c,className:e.addItemButton,onClick:function(){return F()}},"Add item")):r.a.createElement(s.a,{height:48},r.a.createElement(h.a,{variant:"outlined",className:e.actionButton,onClick:function(e){T(e.currentTarget)}},"Set to..."),r.a.createElement(h.a,{variant:"outlined",className:e.actionButton,disabled:!0},"Assign to..."),r.a.createElement(h.a,{variant:"outlined",color:"secondary",onClick:function(){N.length&&R(G(Object(w.changeItemDeleted)(x.id,M.id,N,!0))),_([])}},"Delete"),r.a.createElement(b.a,{anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:function(){return T(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(I.a,{onClick:H(w.ItemState.Unpurchased)},"Unpurchased"),r.a.createElement(I.a,{onClick:H(w.ItemState.Purchased)},"Purchased"),r.a.createElement(I.a,{onClick:H(w.ItemState.PackedIn)},"Packed (in)"),r.a.createElement(I.a,{onClick:H(w.ItemState.PackedOut)},"Packed (out)"))),r.a.createElement(k.a,{component:"div"},null===D||void 0===D?void 0:D.map((function(t){return r.a.createElement(j.a,{key:t.id},r.a.createElement(ee.a,{checked:t.checked,onChange:(a=t.id,function(e,t){_(t?[].concat(Object(X.a)(N),[a]):N.filter((function(e){return e!==a})))}),color:"primary"}),r.a.createElement(y.a,{primary:t.name}),r.a.createElement(te.a,{value:t.state,variant:"outlined",className:e.itemStateSelector,onChange:function(e){return R(G(Object(w.changeItemState)(x.id,M.id,[t.id],e.target.value)))}},r.a.createElement(I.a,{value:w.ItemState.Unpurchased},"Unpurchased"),r.a.createElement(I.a,{value:w.ItemState.Purchased},"Purchased"),r.a.createElement(I.a,{value:w.ItemState.PackedIn},"Packed (In)"),r.a.createElement(I.a,{value:w.ItemState.PackedOut},"Packed (Out)")));var a})))))},oe=Object(g.a)((function(e){return{menuButton:{marginRight:-15},appBarTitle:{flexGrow:1},menuAddButton:{marginRight:-16},title:{marginTop:10},addListButton:{height:32,marginTop:16,marginLeft:16}}})),le=function(){var e=oe(),t=r.a.useState(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],u=r.a.useState(""),m=Object(l.a)(u,2),d=m[0],f=m[1],g=Object(o.c)((function(e){return ae(e)})),b=Object(o.c)((function(e){return e.camp.selectedListId})),I=B();if(!g)return r.a.createElement(n.Fragment,null);var O=function(){d&&(I(G(Object(w.createList)(g.id,d))),f(""))};return b?r.a.createElement(ie,null):r.a.createElement(p.a,{maxWidth:"sm"},r.a.createElement(v.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement(V.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return I(R())}},r.a.createElement(Q.a,null)),r.a.createElement(E.a,{variant:"h6",className:e.appBarTitle},"Home"))),r.a.createElement(E.a,{variant:"h4",className:e.title},g.name),r.a.createElement(s.a,{my:1},g.lists.length||c?r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{variant:"h6"},"Lists"),r.a.createElement(P.a,{label:"Create a new list",value:d,onChange:function(e){return f(e.target.value)},autoFocus:c,onKeyDown:function(e){d&&"Enter"===e.key&&O()}}),r.a.createElement(h.a,{variant:"contained",color:"primary",disabled:!d,className:e.addListButton,onClick:function(){return O()}},"Add list"),r.a.createElement(k.a,{component:"div"},g.lists.map((function(e){return r.a.createElement(j.a,{key:e.id,button:!0,onClick:function(){return I((t=g.id,a=e.id,x.openCampList({campId:t,listId:a})));var t,a}},r.a.createElement(y.a,{primary:e.name}))})))):r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{variant:"h6"},"Let's make some lists!"),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return i(!0)}},"Create a list"))))};var ue=function(){var e=Object(o.c)((function(e){return e.camp.selectedCampId}));return r.a.createElement("div",null,e?r.a.createElement(le,null):r.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(130),se=Object(L.b)({name:"user",initialState:{loggedIn:!1},reducers:{login:function(e){e.loggedIn=!0},logout:function(e){e.loggedIn=!1}}}),de=se.actions,pe=se.reducer,fe=(de.login,de.logout,pe),Ee=Object(L.a)({reducer:{user:fe,camp:J},preloadedState:function(){try{var e=localStorage.getItem("state");if(e){var t=JSON.parse(e);if("0.2"===t.version)return t.state}}catch(a){console.warn(a)}return}()}),he=Ee;Ee.subscribe(me.throttle((function(){try{var e={version:"0.2",state:Ee.getState()},t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}),1e3)),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:he},r.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var n,r=a(36);!function(e){e[e.Unpurchased=0]="Unpurchased",e[e.Purchased=1]="Purchased",e[e.PackedIn=2]="PackedIn",e[e.PackedOut=3]="PackedOut"}(n||(n={}));var c=function e(t,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.Unpurchased,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(r.a)(this,e),this.id=t,this.name=a,this.state=c,this.deleted=i}},78:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(36),r=function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(n.a)(this,e),this.id=t,this.name=a,this.items=r}}},[[143,1,2]]]);
//# sourceMappingURL=main.241ceee6.chunk.js.map